<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Anki Translation Guide</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Anki Translation Guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ankitects/translating" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>If you'd like to help translate Anki into your native language, your
help would be most appreciated!</p>
<p>Translations can be done through our <a href="https://i18n.ankiweb.net">online translation interface</a>.
To make changes, you will need an account. Please post a private message on the
<a href="https://anki.tenderapp.com/discussions/private">support site</a> with the following
information, and we can get an account created for you:</p>
<ul>
<li>The language or languages you'd like to translate.</li>
<li>Your email address. Please note that the email address you provide will
be visible to people browsing <a href="https://github.com/ankitects/anki-desktop-i18n/commits/master">GitHub</a>.</li>
<li>The username you'd like to use (for example, 'bob5')</li>
<li>Please include the following text in your message: "I license any translations I contribute under the <a href="https://opensource.org/licenses/BSD-3-Clause">3-clause
BSD license</a>."</li>
</ul>
<p>After you've contributed some translations, if you'd like to be added to Anki's
About screen, please send a message and we'll gladly add you (or you can submit
a PR if you know how).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="translating-ankis-user-interface"><a class="header" href="#translating-ankis-user-interface">Translating Anki's User Interface</a></h1>
<p>Anki's translations are divided up into two parts:</p>
<ul>
<li>The <a href="anki/./core.html">core module</a> contains text usable on all Anki platforms.</li>
<li>The <a href="anki/./desktop.html">desktop module</a> contains text only used in the computer version
of Anki.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="core-interface"><a class="header" href="#core-interface">Core Interface</a></h1>
<p>The <code>core</code> module in the <a href="https://i18n.ankiweb.net/projects">translation site</a>
uses a translations system called <a href="https://projectfluent.org/">Fluent</a>. It is
a recently-developed system that makes it easier for translators to deal with
plurals, and makes it easier for developers to provide useful comments to help
with translation.</p>
<p>Translations in the <code>core</code> module are divided up into multiple files, with each file
focusing on a particular topic, such as scheduling, deck options, and so on, as
can be seen <a href="https://i18n.ankiweb.net/en-GB/core/">here</a>.</p>
<h2 id="simple-replacements"><a class="header" href="#simple-replacements">Simple Replacements</a></h2>
<p><img src="anki/./simple-replacement@2x.png" alt="" /></p>
<p>When the text is a simple string, all you need to do is write the text in your
native language and click Save (or press the Enter key).</p>
<p>Under the English text, many strings will contain a comment to help you understand
where the string is being used, or to give an example of how it appears.</p>
<p>"Context" is the short name for this string, and may sometimes give you a hint
as to where it is used or what it is trying to represent.</p>
<h2 id="variables"><a class="header" href="#variables">Variables</a></h2>
<p><img src="anki/./variable@2x.png" alt="" /></p>
<p>When you see <code>{$something}</code> in the English text, it means that that text will
be replaced with something else. You can change the position of <code>{$something}</code>
in your translation, but please don't change the text inside - you should not
attempt to translate the text inside the <code>{...}</code> part. You can click on the
<code>{$something}</code> part of the English text to automatically copy it into your
translation.</p>
<h2 id="plurals"><a class="header" href="#plurals">Plurals</a></h2>
<p>Many languages change words depending on number. For example, English uses
"1 cat", but "3 cats".</p>
<p>Some of the strings to translate will look like this:</p>
<p><img src="anki/./simple-plurals@2x.png" alt="" /></p>
<p>In the top part, you can see there are two forms for English - the <code>one</code>
case (second), and the <code>other</code> case (seconds).</p>
<p>The bottom section shows the translation in Polish, which has four different
plural forms. In this case, the <code>few</code> case and <code>many</code> case have been translated
with the same translation.</p>
<p>The translation website should automatically show the appropriate number
of boxes for your language. Languages like Japanese that do not have separate
plural forms will only need to enter in a translation once.</p>
<h2 id="advanced-plurals"><a class="header" href="#advanced-plurals">Advanced Plurals</a></h2>
<p>The translation website supports an advanced mode for when you need more
flexibility. You can access the advanced mode by clicking on the FTL icon
on the bottom left. The previous example then looks like this:</p>
<p><img src="anki/./advanced-plurals@2x.png" alt="" /></p>
<p>The first line is the unique identifier for this message - it can also be
seen in the "CONTEXT" label near the comments.</p>
<p>The rest of the text means the following:</p>
<ul>
<li>Check the value of amount</li>
<li>If the amount is <code>one</code>, show <code>{$amount} sekunda</code></li>
<li>If the amount is <code>few</code>, show <code>{$amount} sekundy</code></li>
<li>If the amount is <code>many</code>, show <code>{$amount} sekund</code></li>
<li>If the amount is <code>other</code>, show <code>{$amount} sekundy</code></li>
</ul>
<p>The definitions of few, many and other depend on
<a href="https://unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html">your language</a>.</p>
<p>The <code>*</code> character before other means that any unknown value should
match <code>other</code>. Since in this example <code>few</code> is the same as <code>other</code>, the
text could thus be shortened to:</p>
<pre><code>time-span-seconds = { $amount -&gt;
  [one]   { $amount } sekunda
  [many]  { $amount } sekund
 *[other] { $amount } sekundy
 }
</code></pre>
<p>As <code>few</code> is not listed here, it will be covered in the <code>other</code> case.
It's generally best to list out all cases however, as otherwise the
translation website will shown a warning that you may have forgotten
to translate a case.</p>
<p>When writing these rules manually, please make sure to add at least one
space to the start of each line except the first.</p>
<p>While there was little benefit from rewriting the text in this case, this
flexibility becomes useful when your language doesn't fit well with the
structure of the original English string.</p>
<p>For example, when viewing cards in the Browse screen in Anki, Anki shows
new cards with a number, such as "New #1", or "New #532". The English
doesn't use plurals in this case, but other languages may need to.</p>
<p>If you were translating this into Spanish, you'd see the following screen:</p>
<p><img src="anki/./advanced-plurals2@2x.png" alt="" /></p>
<p>To add a plural form, click the FTL button, and then change the text
to read:</p>
<pre><code>due-for-new-card = { $number -&gt;
  [one]   Nueva #{ $number }
 *[other] Nuevas #{ $number }
 }
</code></pre>
<p>Here's another example. In this case the English text is using plurals
as well, but only a small part needs to change. When translating to Polish,
the "used by" portion needs to change as well. So the default editing
screen is not sufficient:</p>
<p><img src="anki/./advanced-plurals3@2x.png" alt="" /></p>
<p>To fix this, we click on the FTL button to get a blank template:</p>
<p><img src="anki/./advanced-plurals4@2x.png" alt="" /></p>
<p>And then modify the template as required:</p>
<p><img src="anki/./advanced-plurals5@2x.png" alt="" /></p>
<h2 id="other-languages"><a class="header" href="#other-languages">Other Languages</a></h2>
<p>If you're not sure how something should be translated, you can click on the
Locales tab on the right. You can see a summary of the translation on that
screen, or click on a particular language to see how it has translated
all its plural forms.</p>
<h2 id="special-characters"><a class="header" href="#special-characters">Special Characters</a></h2>
<p>When a translated string is more than one line long, please keep an eye
out for lines that start with <code>.</code> or <code>[</code>. Strings can start with these characters
on the first line, but if a translation stretches over multiple lines, these
characters will cause problems.</p>
<p>For example, the following is fine:</p>
<pre><code>some-translation =
  This is a translation that occurs
  over ... two
  or three lines.
</code></pre>
<p>But the following will cause problems, because the second line starts with a <code>[</code>,
and the third starts with a <code>.</code>:</p>
<pre><code>some-translation =
  [This is a translation that occurs over
  ...two
  or three lines.]
</code></pre>
<p>When you need to use a <code>[</code> or <code>.</code> character at the start of a a line
in a multi-line string, please escape it by wrapping it in <code>{"</code> and
<code>"}</code> - for example:</p>
<pre><code>some-translation =
  {"["}This is a translation that occurs over
  {"."}.. two
  or three lines.]
</code></pre>
<h2 id="testing"><a class="header" href="#testing">Testing</a></h2>
<p>Each time a new Anki beta is released, it will include any translation
changes that were made since the last time. Please give the betas a try,
so you can see how your translations appear in the app. There's a beta
testing section on the support site that you can follow for beta
updates.</p>
<p>When translating, please try to keep the translations about the same
length as the original English text. If it is not possible, and you find
that text is not appearing properly in a beta (such as two labels
overlapping), please report the issue on the support site.</p>
<p>When testing the betas, if you notice that some text is not
translatable, please report this on the support site so it can be fixed.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="desktop-interface"><a class="header" href="#desktop-interface">Desktop Interface</a></h1>
<p>The majority of Anki's interface is now included in the <code>core</code> module. <code>desktop</code>
contains some strings specific to the computer version, such add-ons. The strings
were mostly automatically migrated from Anki's old translation system, so there
may be some strings in core that only apply to the computer version, or vice versa.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-manual"><a class="header" href="#the-manual">The Manual</a></h1>
<p>Translating the manual is trickier than translating Anki's interface.</p>
<p>If you're a fairly technical user, you can fork the manual's repo,
and translate one or more of
<a href="https://github.com/ankitects/anki-manual">the manual's text files</a>.</p>
<p>After translating at least one file, please get in touch.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="for-developers"><a class="header" href="#for-developers">For Developers</a></h1>
<p>When adding user-visible strings to Anki's codebase, extra work is required
to make the strings translatable.</p>
<p>Anki's codebase has recently migrated away from the old gettext system,
and now only uses Fluent's <code>col.tr</code> and <code>aqt.utils.tr</code>.</p>
<p>Please start by taking a look at the <a href="anki/./core.html">core documentation</a> to see
how strings are presented to translators. Note how translators can not see the
areas of the code where a string is used, so comments are often required to help
the translators understand what they are translating.</p>
<h2 id="adding-new-strings"><a class="header" href="#adding-new-strings">Adding New Strings</a></h2>
<p>As an example, imagine we want to add the string "You have x add-ons".</p>
<p>To add a new translatable string to the codebase, we first need to identify
whether it belongs in the <code>core</code> module (text likely to be used by all Anki clients),
or whether it is specific to the computer version (the <code>desktop</code> module).
Add-ons are only supported by the computer version, so we'll want to use
the <code>desktop</code> module in this example.</p>
<ul>
<li>The English <code>core</code> files are stored in <code>ftl/core</code></li>
<li>The English <code>desktop</code> files are stored in <code>ftl/qt</code></li>
</ul>
<p>We'll look for a file like <code>ftl/qt/addons.ftl</code>, and add one if no appropriate
one exists. Then we need to add the string to the file.</p>
<p>Each string needs a key that uniquely identifies it. It should start with
the same text as the filename, and then contain at least a few words separated
by hyphens. For example, we might add the following to the file:</p>
<pre><code class="language-properties">addons-you-have-count = You have { $count } add-ons.
</code></pre>
<p>If <code>count</code> is 5, then the string will be "You have 5 add-ons.". This means
it will look strange if <code>count</code> is 1 - we'd see "You have 1 add-ons." instead
of "You have 1 add-on.". We'll need to add another string to cover the singular
case:</p>
<pre><code class="language-properties">addons-you-have-count = You have { $count -&gt;
    [one] 1 add-on
   *[other] {$count} add-ons
   }.
</code></pre>
<p>The text above tells Fluent to use the first string in the singular case,
and use the second string in all other cases.</p>
<p>While an improvement, this can make it a bit hard for translators when the
"you have" part needs to change depending on the number. So while more verbose,
it is better to list out the alternatives in full where possible:</p>
<pre><code class="language-properties">addons-you-have-count = { $count -&gt;
    [one] You have { $count } add-on.
   *[other] You have { $count } add-ons.
   }
</code></pre>
<p>This leaves the most control in the hands of the translators to be able
to translate the sentence with a natural structure.</p>
<p>Note how the variable was used in the singular case as well. While in English
$count will only be 1 in the singular case, in other languages, the
singular case can be used for other numbers, such as 21. While translators
could replace the <code>1</code> with <code>{ $count }</code> in their translation, they sometimes
do not realise they need to, so using the variable makes mistakes less likely.</p>
<p>Please note that the bulk of the strings in the .ftl files were imported
from the older gettext system, so many of them may not demonstrate best
practice. The older system also encouraged constructs like:</p>
<pre><code class="language-python">msg = "%s %d %s" % (_("Studied"), card_count, _("today"))
</code></pre>
<p>Please avoid constructing strings in Python like this, as it makes it hard
for translators to translate, and not all languages use English spaces.
The above example would be better made into a single translatable string
that takes a count argument.</p>
<p>Finally, we should also add one or more comments for translators:</p>
<pre><code class="language-properties">### Lines starting with three hashes are shown in the translation system
### for every string in the file.
### You can use it for a general summary of what a file is dealing with. Not
### all files will need this.

## Lines starting with two hashes are shown for every following string, until
## another set of two hashes is encountered, or the file ends.

# This is a comment that will only apply to the following string. Eg:
# Shown in the add-on management screen (Tools&gt;Add-ons), in the title bar.
addons-you-have-count = { $count -&gt;
    [one] You have { $count } add-on.
   *[other] You have { $count } add-ons.
   }
</code></pre>
<h2 id="accessing-the-new-string"><a class="header" href="#accessing-the-new-string">Accessing the New String</a></h2>
<p>Once you've added one or more strings to the .ftl files, run Anki in the source
tree as usual, which will compile the new strings, and make them accessible in
Python/Typescript/Rust.</p>
<h3 id="python"><a class="header" href="#python">Python</a></h3>
<p>To resolve a string, you can use the following code:</p>
<pre><code class="language-python">from aqt.utils import tr

msg = tr.addons_you_have_count(count=3)
</code></pre>
<ul>
<li>Note how a snake_case() function has been automatically defined as part of
the build process, with the correct arguments. These will be checked by
the tests, to ensure you don't accidentally use a missing string, or
omit an argument/pass the wrong one.</li>
<li>The generated function has a docstring based on the original text in the ftl
file, so if you're using an editor like PyCharm, you can hover the mouse over
a function to see the text it will resolve to.</li>
<li>Code in qt/ can use the <code>aqt.utils.tr()</code> function, but code in pylib should
use <code>col.tr()</code> instead.</li>
</ul>
<p>If you'd like to test out the strings in the Python repl, make sure to
call set_lang() first.</p>
<pre><code class="language-python">&gt;&gt;&gt; from anki.lang import set_lang
&gt;&gt;&gt; from aqt.utils import tr
&gt;&gt;&gt; set_lang("en", "")
&gt;&gt;&gt; tr.addons_you_have_count(count=3)
'You have \u20683\u2069 add-ons.'
</code></pre>
<p>Note the unicode characters that were inserted. These ensure that when left-to-right
and right-to-left languages are mixed, the text flows correctly. For debugging,
you can strip the characters off:</p>
<pre><code class="language-python">&gt;&gt;&gt; from anki.lang import without_unicode_isolation as nosep
&gt;&gt;&gt; nosep(addons_you_have_count(count=3))
'You have 3 add-ons.'
&gt;&gt;&gt; nosep(addons_you_have_count(count=1))
'You have 1 add-on.'
</code></pre>
<h3 id="typescript"><a class="header" href="#typescript">TypeScript</a></h3>
<p>A global is available with automatically generated functions in camelCaps. Eg:</p>
<pre><code class="language-typescript">import * as tr from "../lib/ftl";

console.log(tr.statisticsCardsPerDay({ count: 5 }));
</code></pre>
<p>The functions have docstrings that have the original text, so you can hover over
them to see what the text says.</p>
<p>To make use of the translations, they first need to be fetched from the backend.
You'll need to specify the modules you want included, eg:</p>
<pre><code class="language-typescript">import { setupI18n, ModuleName } from "../lib/i18n";

await setupI18n({ modules: [ModuleName.STATISTICS] });
</code></pre>
<h3 id="rust"><a class="header" href="#rust">Rust</a></h3>
<p>The backend and collection structures have an I18n object in .tr, which can be
called to get a translation, eg, in a Collection method:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>println!("{}", self.tr.database_check_missing_templates(5))
<span class="boring">}</span></code></pre></pre>
<p>The docstring contains the original translation, and your editor can
show you the names of each argument.</p>
<p>The return value is a Cow - if you need a String, you can call <code>.to_string()</code> or
<code>.into()</code> on it.</p>
<h3 id="legacy-style"><a class="header" href="#legacy-style">Legacy style</a></h3>
<p>Anki versions before 2.1.44 used a single function and a separate constant instead.
Eg, instead of</p>
<pre><code class="language-python">from aqt.utils import tr

msg = tr.addons_you_have_count(count=3)
</code></pre>
<p>they instead used:</p>
<pre><code class="language-python">from aqt.utils import tr, TR

msg = tr(TR.ADDONS_YOU_HAVE_COUNT, count=3)
</code></pre>
<p>This old style will still work for now, but will be removed in the future.</p>
<h2 id="repeated-content"><a class="header" href="#repeated-content">Repeated Content</a></h2>
<p>Sometimes you will need multiple translations that have some text shared between
them. For example, the search code has a list of separate error message, such as:</p>
<pre><code class="language-properties">search-invalid-added = Invalid search: 'added:' must be followed by a positive number of days.
search-invalid-edited = Invalid search: 'edited:' must be followed by a positive number of days.
</code></pre>
<p>Since there are a lot of separate messages with the same prefix, we can split it off
into a separate string:</p>
<pre><code class="language-properties">search-invalid-search = Invalid search: { $reason }
search-invalid-added = 'added:' must be followed by a positive number reason.
search-invalid-edited = 'edited:' must be followed by a positive number of days.
</code></pre>
<p>The code can then compose the message from two separate entries. Note that we're
using a Fluent variable in the outer string, as some languages may want to place
the reason first, not include a space after the colon, and so on.</p>
<h2 id="avoid-html-where-possible"><a class="header" href="#avoid-html-where-possible">Avoid HTML where possible</a></h2>
<p>Translators may not have any development experience, and HTML can be difficult to read
and translate correctly. Prefer plain text where possible, and when HTML is required
or would make things much clearer, consider using markdown instead (see the search
translations for an example of how this is done).</p>
<h2 id="avoid-strings-that-will-change"><a class="header" href="#avoid-strings-that-will-change">Avoid Strings That Will Change</a></h2>
<p>Avoid doing things like listing out a series of options in a string, if there's any
chance that list will change in the future. When the string later gets updated
(and assuming people don't forget to update it), it will need to be given a new ID
so that translators become aware of it, and doing so will mean all the existing
translations get invalidated until a translator has a chance to update them, which
may take months and sometimes even years.</p>
<h2 id="avoid-excess-strings"><a class="header" href="#avoid-excess-strings">Avoid Excess Strings</a></h2>
<p>Please try to be conservative with the number of new strings you add, as translator time
is precious, and the more strings included in Anki, the more overwhelming it can be
for translators. If you need to display an error message for some obscure error that most
people will never hit, it probably doesn't need a translation.</p>
<h2 id="add-ons"><a class="header" href="#add-ons">Add-ons</a></h2>
<p>Add-ons can make use of existing strings in Anki, but if you wish to add new
strings, you'll need to add them to your add-on rather than Anki. How you approach
translations in your add-on(s) is up to you:</p>
<ul>
<li>If you don't care about translations, the simplest solution is to use plain strings.</li>
<li>The next-easiest option is to place all strings in a dict or python module,
and accept pull requests from users that add a new language. You can then
select the appropriate dict by looking at what anki.lang.currentLang is set
to.</li>
<li>If you want proper plural support, you'll want to consider using gettext,
though it is considerably more involved than the above solution. It requires
separate build steps to extract strings from your source and build compiled
versions of the strings. You can have translators email you a completed .po
file, or send you a PR. There are online translation services like Launchpad
and Crowdin that support gettext, but you would need to either manually upload
and download files, or spend some time setting up scripts to do so.</li>
</ul>
<p>Fluent is not currently recommended for add-ons. There is limited tooling
support for it, and you would need to bundle the Fluent Python libraries with
your add-on.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ankimobile"><a class="header" href="#ankimobile">AnkiMobile</a></h1>
<p>AnkiMobile's translations are divided into two parts:</p>
<ul>
<li>The <code>core</code> module contains text common to both the computer version
and AnkiMobile.</li>
<li>The <code>mobile</code> module contains text only used in AnkiMobile.</li>
</ul>
<p>If you have not signed up to the translation site yet, please see
<a href="./intro.html">Getting Started</a>.</p>
<p>Please start with the <code>core</code> module, which is <a href="./anki/core.html">documented here</a>.
Once the <code>core</code> module is mostly translated in your language, you can then
move on to the <code>mobile</code> module.</p>
<p>When translations are nearing completion, please reach out on the support site,
as new languages need to be manually added to the build process.</p>
<p>Once a new language has been added, your translations will be visible in
subsequent beta builds and app store releases. Please give the betas a try, so
you can see how your translations appear in the app. If you're not already a
beta tester, please <a href="https://docs.ankimobile.net/beta-testing.html">request an invite</a>
on the support site.</p>
<p>When translating, please try to keep the translations about the same
length as the original English text. If it is not possible, and you find
that text is not appearing properly in a beta (such as two labels
overlapping), please report the issue on the support site.</p>
<p>Thank you again for your help!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="translating-ankidroid"><a class="header" href="#translating-ankidroid">Translating AnkiDroid</a></h1>
<p>AnkiDroid has its own translation site:</p>
<p><a href="https://github.com/ankidroid/Anki-Android/wiki/Translating-AnkiDroid">https://github.com/ankidroid/Anki-Android/wiki/Translating-AnkiDroid</a></p>
<p>Work is currently underway to integrate Anki's <code>core</code> module and its translations
into AnkiDroid, but for now, AnkiDroid only uses its own translations.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
